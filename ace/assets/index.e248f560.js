var q=Object.defineProperty,G=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var E=(e,t,r)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,g=(e,t)=>{for(var r in t||(t={}))Y.call(t,r)&&E(e,r,t[r]);if(T)for(var r of T(t))W.call(t,r)&&E(e,r,t[r]);return e},w=(e,t)=>G(e,J(t));var $=(e,t,r)=>(E(e,typeof t!="symbol"?t+"":t,r),r);import{u as Z,a as Q,b as ee,d as v,N as te,c as oe,e as ne,f as re,g as se,z as ae,h as ie,r as i,o as p,i as m,w as c,j as u,k as ce,l as P,m as ue,n as le,p as de,q as _e,s as pe,t as F,v as O,x as me,y as fe,A as ge,B as he,T as ve,C as ye,D as Ee,E as $e,F as be,G as Ce,H as I,I as Se,J as Te,K as N}from"./vendor.217b36be.js";const we=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}};we();var f=(e,t)=>{const r=e.__vccOpts||e;for(const[o,n]of t)r[o]=n;return r};const Pe={name:"XMessageContent",setup(){window.$message=Z()}};function Fe(e,t,r,o,n,s){return null}var Oe=f(Pe,[["render",Fe]]);const Ie={name:"XDialogContent",setup(){window.$dialog=Q()}};function Ne(e,t,r,o,n,s){return null}var Le=f(Ie,[["render",Ne]]);const Re={name:"XLoadingContent",setup(){window.$loading=ee()}};function Ae(e,t,r,o,n,s){return null}var ke=f(Re,[["render",Ae]]);const De=v({name:"XApplication",components:{NDialogProvider:te,NNotificationProvider:oe,NMessageProvider:ne,NLoadingBarProvider:re,NConfigProvider:se,XMessageContent:Oe,XDialogContent:Le,XLoadingContent:ke},setup(){return{zhCN:ae,dateZhCN:ie,themeOverrides:{common:{primaryColor:"#536FFF",primaryColorHover:"rgba(83, 111, 255, .9)",primaryColorPressed:"#536FFF",primaryColorSuppl:"rgba(83, 111, 255, .9)",successColor:"#22B46B",infoColor:"#536FFF",warningColor:"#FDAA29",errorColor:"#FD494D",textColorBase:"#1F2225",textColorDisabled:"#888"}},loadingBarStyle:{loading:{"background-color":"#54BC2B",height:"3px"}}}}});function xe(e,t,r,o,n,s){const a=i("x-loading-content"),l=i("x-dialog-content"),_=i("x-message-content"),y=i("n-message-provider"),h=i("n-notification-provider"),U=i("n-dialog-provider"),H=i("n-loading-bar-provider"),X=i("n-config-provider");return p(),m(X,{locale:e.zhCN,"date-locale":e.dateZhCN,"theme-overrides":e.themeOverrides},{default:c(()=>[u(H,{"loading-bar-style":e.loadingBarStyle},{default:c(()=>[u(a),u(U,null,{default:c(()=>[u(l),u(h,null,{default:c(()=>[u(y,null,{default:c(()=>[u(_),ce(e.$slots,"default")]),_:3})]),_:3})]),_:3})]),_:3},8,["loading-bar-style"])]),_:3},8,["locale","date-locale","theme-overrides"])}var L=f(De,[["render",xe]]);const je=v({setup(e){return(t,r)=>{const o=i("router-view");return p(),m(ue(L),null,{default:c(()=>[u(o,null,{default:c(({Component:n})=>[(p(),m(P(n)))]),_:1})]),_:1})}}}),Be="modulepreload",R={},Ke="./",d=function(t,r){return!r||r.length===0?t():Promise.all(r.map(o=>{if(o=`${Ke}${o}`,o in R)return;R[o]=!0;const n=o.endsWith(".css"),s=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${s}`))return;const a=document.createElement("link");if(a.rel=n?"stylesheet":Be,n||(a.as="script",a.crossOrigin=""),a.href=o,document.head.appendChild(a),n)return new Promise((l,_)=>{a.addEventListener("load",l),a.addEventListener("error",_)})})).then(()=>t())};var ze=[{path:"/:pathMatch(.*)*",redirect:"/404",name:"NotFound",component:()=>d(()=>import("./404.193cde67.js"),["assets/404.193cde67.js","assets/404.c1b8dd08.css","assets/vendor.217b36be.js"])}],Me=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ze}),Ve={accountId:e=>e.user.userInfo.accountId||null,dictionary:e=>e.dictionary.list||{},page:e=>e.pages.page||{}};const Ue={list:{}},He={SET_DICTIONARY:(e,t)=>{e.list=g(g({},e.list),t)}},Xe={getDictionary({commit:e}){return new Promise(t=>{const r={PAGE_LINK_TYPE:[{label:"\u5FAE\u9875\u9762",value:1},{label:"\u5546\u54C1",value:2}]};e("SET_DICTIONARY",r),t(r)})}};var qe={namespaced:!0,state:Ue,mutations:He,actions:Xe},Ge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qe});const Je={current:null,page:{id:null,title:null,pageStyle:{backgroundColor:"#F8F8F8"},componentList:[]}},Ye={SET_CURRENT:(e,t)=>{e.current=t||null}},We={setCurrent({commit:e},t){return new Promise((r,o)=>{e("SET_CURRENT",t),r(t)})},removeComponent({commit:e,state:t},r){return new Promise((o,n)=>{const s=t.page.componentList.findIndex(a=>a.id===r.id);t.page.componentList.splice(s,1),o(!0)})}};var Ze={namespaced:!0,state:Je,mutations:Ye,actions:We},Qe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ze});function et(e,t){var r;return((r=t==null?void 0:t.meta)==null?void 0:r.authority)?e.includes(t.meta.authority):!0}function A(e,t){const r=[];return e.forEach(o=>{const n=g({},o);et(t,n)&&(n.children&&(n.children=A(n.children,t)),r.push(n))}),r}const tt=()=>({permissionRoutes:[]}),ot={generateRoutes({commit:e,rootState:t}){const r=t.user.userInfo.authorizationList;return new Promise(o=>{const n=A(V,r);e("SET_ROUTES",n),o(n)})}},nt={SET_ROUTES:(e,t)=>{e.permissionRoutes=t}};var rt={namespaced:!0,state:tt,actions:ot,mutations:nt},st=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rt});const k=60*60*24*7,D=({prefixKey:e="",storage:t=localStorage}={})=>{const r=class{constructor(){$(this,"storage",t);$(this,"prefixKey",e)}getKey(o){return`${this.prefixKey}${o}`.toUpperCase()}set(o,n,s=k){const a=JSON.stringify({value:n,expire:s!==null?new Date().getTime()+s*1e3:null});this.storage.setItem(this.getKey(o),a)}get(o,n=null){const s=this.storage.getItem(this.getKey(o));if(s)try{const a=JSON.parse(s),{value:l,expire:_}=a;if(_===null||_>=Date.now())return l;this.remove(this.getKey(o))}catch{return n}return n}remove(o){this.storage.removeItem(this.getKey(o))}clear(){this.storage.clear()}setCookie(o,n,s=k){document.cookie=`${this.getKey(o)}=${n}; Max-Age=${s}`}getCookie(o){const n=document.cookie.split("; ");for(let s=0,a=n.length;s<a;s++){const l=n[s].split("=");if(l[0]===this.getKey(o))return l[1]}return""}removeCookie(o){this.setCookie(o,1,-1)}clearCookie(){const o=document.cookie.match(/[^ =;]+(?==)/g);if(o)for(let n=o.length;n--;)document.cookie=o[n]+"=0;expire="+new Date(0).toUTCString()}};return new r},b=D(),at=D({storage:sessionStorage}),it={token:b.get("token")||null,userInfo:{accountId:null,userName:null,authorizationList:[]}},ct={SET_TOKEN:(e,t)=>{e.token=t},SET_USERINFO:(e,t)=>{e.userInfo=t}},ut={async login({commit:e}){return new Promise((t,r)=>{const o=+new Date;e("SET_TOKEN",o),b.set("token",o),t(o)})},getUserInfo({commit:e}){return new Promise((t,r)=>{const o={accountId:1,userName:"Adang",authorizationList:["admin"]};e("SET_USERINFO",o),t(o)})},logout({commit:e}){return new Promise(t=>{e("SET_TOKEN",null),e("SET_USERINFO",{accountId:null,userName:null,authorizationList:[]}),at.clear(),b.remove("token"),t(null)})}};var lt={namespaced:!0,state:it,mutations:ct,actions:ut},dt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lt});const x={"./modules/dictionary.ts":Ge,"./modules/pages.ts":Qe,"./modules/permission.ts":st,"./modules/user.ts":dt},j={};for(const e in x)j[e.replace(/(\.\/modules\/|\.ts)/g,"")]=x[e].default;const _t=le({modules:j,getters:Ve}),B=Symbol();function pt(e){e.use(_t,B)}function mt(){return de(B)}const ft=v({name:"XHeader",components:{NDropdown:_e},setup(){const e=mt(),t=pe(),r=F({options:[{label:"\u9000\u51FA",key:"logout"}]}),o=()=>{e.dispatch("user/logout").then(()=>{t.push({name:"Login"})})};return w(g({},O(r)),{handleSelect:o})}}),gt=e=>(fe("data-v-6826dd26"),e=e(),ge(),e),ht={class:"x-header"},vt=gt(()=>he("h1",null,"LOGO",-1)),yt=[vt];function Et(e,t,r,o,n,s){return p(),me("div",ht,yt)}var $t=f(ft,[["render",Et],["__scopeId","data-v-6826dd26"]]);const bt={};function Ct(e,t){const r=i("router-view");return p(),m(r,null,{default:c(({Component:o})=>[u(ve,{name:"fade"},{default:c(()=>[(p(),m(P(o)))]),_:2},1024)]),_:1})}var St=f(bt,[["render",Ct]]);const Tt=v({name:"Layout",components:{NLayout:ye,NLayoutHeader:Ee,NLayoutContent:$e,THeader:$t,TContent:St},setup(){const e=be(),{query:t}=e,r=F({query:t});return g({},O(r))}});function wt(e,t,r,o,n,s){const a=i("t-header"),l=i("n-layout-header"),_=i("t-content"),y=i("n-layout-content"),h=i("n-layout");return p(),m(h,{"content-style":"display: flex; flex-direction: column; overflow: hidden; height: 100vh;"},{default:c(()=>[e.query.hideHeader?Ce("",!0):(p(),m(l,{key:0,bordered:""},{default:c(()=>[u(a,{outer:""})]),_:1})),u(h,{class:"main-content-layout"},{default:c(()=>[u(y,{"native-scrollbar":!1},{default:c(()=>[u(_)]),_:1})]),_:1})]),_:1})}var K=f(Tt,[["render",wt]]),Pt=[{path:"/pages",component:I(K),redirect:"pages/create",children:[{path:"create",name:"PageCreate",component:()=>d(()=>import("./create.579b24fb.js"),["assets/create.579b24fb.js","assets/create.cc14c3a5.css","assets/index.a36d1414.js","assets/index.4f83fce7.css","assets/vendor.217b36be.js"]),meta:{title:"\u5FAE\u9875\u9762\u521B\u5EFA"}},{path:"edit",name:"PageEdit",component:()=>d(()=>import("./create.579b24fb.js"),["assets/create.579b24fb.js","assets/create.cc14c3a5.css","assets/index.a36d1414.js","assets/index.4f83fce7.css","assets/vendor.217b36be.js"]),meta:{title:"\u5FAE\u9875\u9762\u7F16\u8F91"}},{path:"copy",name:"PageCopy",component:()=>d(()=>import("./create.579b24fb.js"),["assets/create.579b24fb.js","assets/create.cc14c3a5.css","assets/index.a36d1414.js","assets/index.4f83fce7.css","assets/vendor.217b36be.js"]),meta:{title:"\u5FAE\u9875\u9762\u590D\u5236"}},{path:"preview",name:"PagePreview",component:()=>d(()=>import("./preview.db71f4ac.js"),["assets/preview.db71f4ac.js","assets/preview.c6e6dab6.css","assets/index.a36d1414.js","assets/index.4f83fce7.css","assets/vendor.217b36be.js"]),meta:{title:"\u5FAE\u9875\u9762\u9884\u89C8"}}]}],Ft=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Pt});function Ot(e){e.beforeEach(async(t,r,o)=>{const n=window.$loading||null;n&&n.start(),o()}),e.afterEach((t,r,o)=>{const n=window.$loading||null;n&&n.finish()}),e.onError(t=>{console.log(t,"\u8DEF\u7531\u9519\u8BEF")})}var It=[{path:"/",component:I(K),redirect:"/create",children:[{path:"create",name:"PageCreate",component:()=>d(()=>import("./create.579b24fb.js"),["assets/create.579b24fb.js","assets/create.cc14c3a5.css","assets/index.a36d1414.js","assets/index.4f83fce7.css","assets/vendor.217b36be.js"]),meta:{title:"\u5FAE\u9875\u9762\u521B\u5EFA"}},{path:"edit",name:"PageEdit",component:()=>d(()=>import("./create.579b24fb.js"),["assets/create.579b24fb.js","assets/create.cc14c3a5.css","assets/index.a36d1414.js","assets/index.4f83fce7.css","assets/vendor.217b36be.js"]),meta:{title:"\u5FAE\u9875\u9762\u7F16\u8F91"}},{path:"copy",name:"PageCopy",component:()=>d(()=>import("./create.579b24fb.js"),["assets/create.579b24fb.js","assets/create.cc14c3a5.css","assets/index.a36d1414.js","assets/index.4f83fce7.css","assets/vendor.217b36be.js"]),meta:{title:"\u5FAE\u9875\u9762\u590D\u5236"}},{path:"preview",name:"PagePreview",component:()=>d(()=>import("./preview.db71f4ac.js"),["assets/preview.db71f4ac.js","assets/preview.c6e6dab6.css","assets/index.a36d1414.js","assets/index.4f83fce7.css","assets/vendor.217b36be.js"]),meta:{title:"\u5FAE\u9875\u9762\u9884\u89C8"}}]}],Nt=["pages","error"];const z={"./modules/error.ts":Me,"./modules/pages.ts":Ft},M=Object.keys(z).reduce((e,t)=>{const r=t.replace(/^\.\/modules\/(.*)\.\w+$/,"$1"),o=z[t];return e[r]=o.default,e},{}),V=[];Nt.forEach(e=>{M[e]&&V.push(...M[e])});const C=Se({routes:It,history:Te()});function Lt(e){e.use(C),Ot(C)}const Rt=N(L);Rt.mount("#appProvider",!0);const S=N(je);pt(S);Lt(S);C.isReady().then(()=>S.mount("#app"));export{f as _,b as l,_t as s,mt as u};
